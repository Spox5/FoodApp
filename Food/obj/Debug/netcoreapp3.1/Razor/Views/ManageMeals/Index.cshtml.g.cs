#pragma checksum "C:\Users\mateu\source\repos\Food\Food\Views\ManageMeals\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "0182584e9bfe12f174ee1094b99abfc099d9bb33"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_ManageMeals_Index), @"mvc.1.0.view", @"/Views/ManageMeals/Index.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"0182584e9bfe12f174ee1094b99abfc099d9bb33", @"/Views/ManageMeals/Index.cshtml")]
    public class Views_ManageMeals_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<Food.ViewModel.SearchMealViewModel>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\n\n\n");
#nullable restore
#line 5 "C:\Users\mateu\source\repos\Food\Food\Views\ManageMeals\Index.cshtml"
   Layout = "~/Views/Shared/_Layout.cshtml"; 

#line default
#line hidden
#nullable disable
            WriteLiteral("\n\n\n<div id=\"main\">\n\n    <div id=\"title\">Twoje posiłki:</div>\n\n    <form>\n\n");
#nullable restore
#line 15 "C:\Users\mateu\source\repos\Food\Food\Views\ManageMeals\Index.cshtml"
         foreach (var meal in Model.Meals)
        {

#line default
#line hidden
#nullable disable
            WriteLiteral("        <label>\n            <input class=\"meal-input\"");
            BeginWriteAttribute("value", " value=\"", 272, "\"", 288, 1);
#nullable restore
#line 18 "C:\Users\mateu\source\repos\Food\Food\Views\ManageMeals\Index.cshtml"
WriteAttributeValue("", 280, meal.Id, 280, 8, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" type=\"radio\" required> ");
#nullable restore
#line 18 "C:\Users\mateu\source\repos\Food\Food\Views\ManageMeals\Index.cshtml"
                                                                         Write(meal.Name);

#line default
#line hidden
#nullable disable
            WriteLiteral("\n        </label>");
#nullable restore
#line 19 "C:\Users\mateu\source\repos\Food\Food\Views\ManageMeals\Index.cshtml"
                }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"                
        <div class=""meal-name-form"">
            Nowa nazwa posilku <input class=""meal-name-input"" type=""text"">
            <input class=""save-button"" type=""button"" value=""Zapisz"">
        </div>

        <input class=""edit-button"" type=""button"" value=""Edytuj"">
        <input class=""delete-button"" type=""button"" value=""Usuń"">

        </form>

    <form>

        <div>

            <input type=""text"" class=""inputfield"" placeholder=""Nazwa nowego posiłku"" onfocus=""this.placeholder=''"" onblur=""this.placeholder='Nazwa nowego posiłku'"" name=""new_category"" required>
");
#nullable restore
#line 36 "C:\Users\mateu\source\repos\Food\Food\Views\ManageMeals\Index.cshtml"
             foreach (var ingredient in Model.Ingredients)
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <label>\n                    <input");
            BeginWriteAttribute("id", " id=\"", 1048, "\"", 1069, 1);
#nullable restore
#line 39 "C:\Users\mateu\source\repos\Food\Food\Views\ManageMeals\Index.cshtml"
WriteAttributeValue("", 1053, ingredient.Name, 1053, 16, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" type=\"checkbox\" required /> ");
#nullable restore
#line 39 "C:\Users\mateu\source\repos\Food\Food\Views\ManageMeals\Index.cshtml"
                                                                        Write(ingredient.Name);

#line default
#line hidden
#nullable disable
            WriteLiteral("\n                    </label>            ");
#nullable restore
#line 40 "C:\Users\mateu\source\repos\Food\Food\Views\ManageMeals\Index.cshtml"
                                        }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"                <input type=""submit"" class=""pushbutton ok_pushbutton"" value=""Dodaj"">

        </div>

    </form>

</div>



<script>
    //const editButton = document.querySelector('.edit-button')
    //const deleteButton = document.querySelector('.delete-button')
    //const editInput = document.querySelector('.meal-name-input')
    //const editForm = document.querySelector('.meal-name-form')
    //const saveButton = document.querySelector('.save-button')

    //bindEvents();

    //function bindEvents() {
    //    editButton.onclick = displayEditForm
    //    deleteButton.onclick = deleteMeal
    //    saveButton.onclick = updateMeal

    //}

    //function updateMeal() {
    //    const meal = {

    //    }

    //    fetch(""/ManageMeals/Update"", {
    //        method: 'PATCH',
    //        headers: {
    //            'Content-Type': 'application/json'
    //        },
    //        body: JSON.stringify(requestData)
    //    })
    //}



    //function deleteMeal() {

    //    const selectedMeal");
            WriteLiteral(@" = Array.from(document.querySelectorAll('meal-input')).find(meal => meal.checked)

    //    const meal = {
    //        id : parseInt(selectedMeal.value)
    //    }

    //        fetch(""/ManageMeals/Delete"", {
    //            method: 'DELETE',
    //            headers: {
    //                'Content-Type': 'application/json'
    //            },
    //            body: meal
    //        })
    //}

    //function displayEditForm() {
    //    editInput.style.display = 'block'

    //}

    //function hideEditForm() {
    //    editInput.style.display = 'none'

    //}
    const editButton = document.querySelector('.edit-button')
    const deleteButton = document.querySelector('.delete-button')
    const editInput = document.querySelector('.meal-name-input')
    const editForm = document.querySelector('.meal-name-form')
    const saveButton = document.querySelector('.save-button')



    hideEditForm();
    bindEvents();



    function bindEvents() {
        editButton.onclick = displayEditForm
    ");
            WriteLiteral(@"    deleteButton.onclick = deleteMeal
        saveButton.onclick = updateMeal
    }



    function updateMeal() {
        hideEditForm()
        const selectedMeal = Array.from(document.querySelectorAll('.meal-input')).find(meal => meal.checked)



        const meal = {
            Id: parseInt(selectedMeal.value),
            Name: editInput.value,
            userId: 1
        }



        fetch(""/ManageMeals/Update"", {
            method: 'PATCH',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(meal)
        })
    }



    function deleteMeal() {
        const selectedMeal = Array.from(document.querySelectorAll('.meal-input')).find(meal => meal.checked)



        const meal = {
            id: parseInt(selectedMeal.value),
            name: 'fds',
            userId: 1
        }



        fetch(""/ManageMeals/Delete"", {
            method: 'DELETE',
            headers: {
                'Content-Type': 'application/json'
       ");
            WriteLiteral("     },\n            body: JSON.stringify(meal)\n        })\n    }\n\n\n\n    function displayEditForm() {\n        editForm.style.display = \'block\'\n    }\n\n\n\n    function hideEditForm() {\n        editForm.style.display = \'none\'\n    }\n\n\n\n</script>\n\n\n    ");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<Food.ViewModel.SearchMealViewModel> Html { get; private set; }
    }
}
#pragma warning restore 1591
